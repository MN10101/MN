<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="thank_you.title">Thank You</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Syne:wght@400;500;600;700;800&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="particles-js"></div>
    <div class="language-toggle">
        <select id="language-select">
            <option value="en">English</option>
            <option value="de">German</option>
            <option value="pl">Polish</option>
            <option value="fr">French</option>
            <option value="tr">Turkish</option>
            <option value="ar">العربية</option>
        </select>
    </div>
    <div class="thank-you-container">
        <h2 data-i18n="thank_you.heading">Thank You!</h2>
        <p data-i18n="thank_you.message">Your message has been sent successfully. I'll get back to you soon.</p>
        <a href="index.html" class="btn" data-i18n="thank_you.back" id="backToHome">Back to Home</a>
    </div>

    <footer>
        <div class="container">
            <p data-i18n="footer.copyright">&copy; 2025 Mahmoud Najmeh. All rights reserved.</p>
            <a href="#" class="back-to-top">
                <i class="fas fa-arrow-up"></i>
            </a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/i18n.js"></script>
    <script>
        // Thank-you page specific initialization
        document.addEventListener('DOMContentLoaded', () => {
            // Get language from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang');
            
            let currentLang = 'en';
            
            if (lang && ['en', 'de', 'pl', 'fr', 'tr', 'ar'].includes(lang)) {
                currentLang = lang;
                // Set the language select value
                const languageSelect = document.getElementById('language-select');
                if (languageSelect) {
                    languageSelect.value = lang;
                }
            } else {
                // Fallback to localStorage
                const storedLang = localStorage.getItem('language');
                if (storedLang && ['en', 'de', 'pl', 'fr', 'tr', 'ar'].includes(storedLang)) {
                    currentLang = storedLang;
                    const languageSelect = document.getElementById('language-select');
                    if (languageSelect) {
                        languageSelect.value = storedLang;
                    }
                }
            }
            
            // Update content with the specified language
            updateContent(currentLang);
            
            // Update "Back to Home" link to maintain language
            const backToHomeLink = document.getElementById('backToHome');
            if (backToHomeLink) {
                backToHomeLink.href = `index.html?lang=${currentLang}`;
            }
            
            // Handle language change on thank-you page
            const languageSelect = document.getElementById('language-select');
            if (languageSelect) {
                languageSelect.addEventListener('change', (e) => {
                    const newLang = e.target.value;
                    if (['en', 'de', 'pl', 'fr', 'tr', 'ar'].includes(newLang)) {
                        localStorage.setItem('language', newLang);
                        updateContent(newLang);
                        
                        // Update URL with new language parameter
                        const newUrl = new URL(window.location);
                        newUrl.searchParams.set('lang', newLang);
                        window.history.replaceState({}, '', newUrl);
                        
                        // Update "Back to Home" link
                        if (backToHomeLink) {
                            backToHomeLink.href = `index.html?lang=${newLang}`;
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>